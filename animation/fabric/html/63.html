<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>图案笔刷 PatternBrush</title>
</head>
<body>
    <canvas id="c" width="600" height="400" style="border: 1px solid #ccc"></canvas>
    <script type="module">
        // 引入文件
        import * as fabric from "../index.min.mjs";

        // 初始化
        const canvas = new fabric.Canvas("c", {
            isDrawingMode: true,
        });

        let img = new Image();
        img.src = "./assest/005.png";

        img.onload = function () {
           
            // 图案画笔
            let texturePatternBrush = new fabric.PatternBrush(canvas);
            
            // 资源
            texturePatternBrush.source = img;

            // 画笔宽度
            texturePatternBrush.width = 25;

            // 丢弃距离小于 decimate 像素的点
            texturePatternBrush.decimate = "0.4";

          
            // 点击shift 在两点之间画直线 
            texturePatternBrush.drawStraightLine = false;

            // 使画笔绘制直线的事件修饰符键。 drawStraightLine必须设置为true 起作用
            // undefined | null | "altKey" | "ctrlKey" | "metaKey" | "shiftKey" 
            texturePatternBrush.straightLineKey = undefined

            // 自由绘制仅限于白板大小
            texturePatternBrush.limitedToCanvasSize = false;
           
            // 画笔的颜色(source 为空时起作用)
            texturePatternBrush.color = "pink";

            // 画笔的阴影(作用域空白，不作用于图案)
            texturePatternBrush.shadow = new fabric.Shadow({
                blur: 10,
                offsetX: 10,
                offsetY: 10,
                color: "#30e3ca",
            });

            // 省略 
            // strokeDashArray 虚线 
            // strokeLineCap 笔刷的线尾样式
            // strokeLineJoin 笔刷的角样式
            // strokeMiterLimit 笔刷的最大斜接长度（用于strokeLineJoin = “斜接”）

            canvas.freeDrawingBrush = texturePatternBrush;
        };
    </script>
</body>
</html>
