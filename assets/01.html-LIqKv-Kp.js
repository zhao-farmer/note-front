import{aq as n,ar as a,as as l,at as p}from"./app-Cok9BT0p.js";const t="/note-front/other/plugin/chrome/001.png",e="/note-front/other/plugin/chrome/002.png",i="/note-front/other/plugin/chrome/003.png",o="/note-front/other/plugin/chrome/004.png",c="/note-front/other/plugin/chrome/005.png",r="/note-front/other/plugin/chrome/006.png",u="/note-front/other/plugin/chrome/007.png",d="/note-front/other/plugin/chrome/008.png",h={};function m(k,s){return p(),a("div",null,s[0]||(s[0]=[l(`<h1 id="一、初识chrome插件" tabindex="-1"><a class="header-anchor" href="#一、初识chrome插件"><span>一、初识chrome插件</span></a></h1><p>Chrome 插件是​​增强浏览器功能的小型软件程序​​，它们可以极大地提升浏览体验和工作效率</p><p>官方文档</p><ul><li><a href="https://developer.chrome.com/docs/extensions?hl=zh-cn" target="_blank" rel="noopener noreferrer">Chrome扩展文档</a></li><li><a href="https://developer.chrome.com/docs/extensions/reference?hl=zh-cn" target="_blank" rel="noopener noreferrer">API参考</a></li></ul><h2 id="_1-1-核心组件详解" tabindex="-1"><a class="header-anchor" href="#_1-1-核心组件详解"><span>1.1 核心组件详解</span></a></h2><ol><li><p>Manifest.json（配置文件）</p><ul><li><p>​作用​​：扩展的&quot;身份证&quot;，定义基本信息和权限</p></li><li><p>关键字段​​：</p><ul><li>manifest_version: 3（必须使用版本3）</li><li>name和version（必需字段）</li><li>permissions（声明所需API权限）</li><li>content_scripts（定义注入网页的脚本）</li></ul></li><li><p>​注意事项​​：权限申请要最小化，避免过度请求</p></li></ul></li><li><p>Service Worker（后台脚本）</p><ul><li><p>​作用​​：扩展的大脑，管理生命周期和事件处理</p></li><li><p>​​核心功能​​：</p><ul><li>处理扩展安装/更新事件</li><li>管理跨组件消息通信</li><li>执行后台定时任务</li><li>维护扩展状态</li></ul></li><li><p>注意事项​​：保持轻量级，避免阻塞操作</p></li></ul></li><li><p>Content Scripts（内容脚本）</p><ul><li><p>作用​​：与网页内容交互的桥梁</p></li><li><p>执行环境​​：在隔离的沙箱环境中运行</p></li><li><p>​主要能力​​：</p><ul><li>读取和修改DOM</li><li>监听页面事件</li><li>与后台脚本通信</li></ul></li><li><p>注意事项​​：避免性能影响，谨慎操作DOM</p></li></ul></li><li><p>Popup（弹出窗口）</p><ul><li>​作用​​：用户交互的主要界面</li><li>特性​​： <ul><li>点击扩展图标时显示</li><li>小尺寸界面（通常300-600px宽）</li><li>快速访问常用功能</li></ul></li><li>注意事项​​：保持界面简洁，加载要快速</li></ul></li><li><p>Options Page（选项页面）</p><ul><li><p>作用​​：扩展设置的配置界面</p></li><li><p>两种模式​​：</p><ul><li>嵌入式（在扩展管理页面内）</li><li>独立标签页（更复杂的设置）</li></ul></li><li><p>注意事项​​：提供清晰的设置选项和说明</p></li></ul></li></ol><h2 id="_1-2-关键注意点" tabindex="-1"><a class="header-anchor" href="#_1-2-关键注意点"><span>1.2 关键注意点</span></a></h2><ol><li><p>安全性首要原则</p><ul><li>​权限最小化​​：只申请必要的权限</li><li>​​输入验证​​：对所有用户输入进行严格验证</li><li>​​CSP策略​​：设置合理的内容安全策略</li><li>​​安全通信​​：使用HTTPS，避免中间人攻击</li></ul></li><li><p>性能优化要点</p><ul><li>​懒加载资源​​：按需加载大型资源</li><li>​​事件节流​​：对高频操作进行节流处理</li><li>​​内存管理​​：及时清理事件监听器和定时器</li><li>​​代码分割​​：将功能模块化，减少初始加载量</li></ul></li><li><p>用户体验核心</p><ul><li>​响应速度​​：弹出窗口要在500ms内加载完成</li><li>​错误处理​​：提供友好的错误提示和恢复方案</li><li>​状态持久化​​：保存用户设置和偏好</li><li>​无障碍支持​​：确保界面可访问性</li></ul></li><li><p>兼容性考虑</p><ul><li>​浏览器版本​​：支持主流Chrome版本</li><li>操作系统​​：考虑不同OS的差异</li><li>屏幕尺寸​​：适配各种显示器尺寸</li><li>国际化​​：支持多语言和地区格式</li></ul></li></ol><h2 id="_1-3-开发流程最佳实践" tabindex="-1"><a class="header-anchor" href="#_1-3-开发流程最佳实践"><span>1.3 开发流程最佳实践</span></a></h2><ol><li><p>规划阶段</p><ul><li>明确扩展要解决的核心问题</li><li>设计最小可行产品（MVP）</li><li>确定目标用户和使用场景</li></ul></li><li><p>开发阶段</p><ul><li>采用模块化架构</li><li>编写可测试的代码</li><li>实施版本控制</li><li>定期进行代码审查</li></ul></li><li><p>测试阶段</p><ul><li>功能测试：确保所有功能正常工作</li><li>性能测试：检测内存泄漏和性能瓶颈</li><li>安全测试：检查潜在的安全漏洞</li><li>用户体验测试：收集真实用户反馈</li></ul></li><li><p>发布阶段</p><ul><li>准备应用商店所需的材料（图标、截图、描述）</li><li>编写清晰的用户文档</li><li>制定更新和维护计划</li></ul></li></ol><h2 id="_1-4-hello-world-扩展" tabindex="-1"><a class="header-anchor" href="#_1-4-hello-world-扩展"><span>1.4 Hello World 扩展</span></a></h2><h3 id="_1-4-1-新建文件" tabindex="-1"><a class="header-anchor" href="#_1-4-1-新建文件"><span>1.4.1 新建文件</span></a></h3><ol><li><p>创建 manifest.json</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello Extensions&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Base Level Extension&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;manifest_version&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;action&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;default_popup&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello.html&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token property">&quot;default_icon&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hello_extensions.png&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>新建hello.html</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Extensions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>找张图片改为 <code>default_icon.png</code></p></li></ol><h3 id="_1-4-2-加载未打包的扩展程序" tabindex="-1"><a class="header-anchor" href="#_1-4-2-加载未打包的扩展程序"><span>1.4.2 加载未打包的扩展程序</span></a></h3><p>如需在开发者模式下加载未封装的扩展程序，请执行以下操作：</p><ol><li>在新标签页中输入 chrome://extensions 即可前往“扩展程序”页面。（根据设计，chrome:// 网址不可链接。） <ul><li>或者，点击“扩展程序”菜单拼图按钮，然后选择菜单底部的管理扩展程序。</li><li>或者，点击 Chrome 菜单，将鼠标悬停在更多工具上，然后选择扩展程序。</li></ul></li><li>点击开发者模式旁边的切换开关，即可启用开发者模式。</li><li>点击加载已解压缩的文件按钮，然后选择扩展程序目录。</li></ol><p><img src="`+t+'" alt=""></p><h3 id="_1-4-3-固定扩展程序" tabindex="-1"><a class="header-anchor" href="#_1-4-3-固定扩展程序"><span>1.4.3 固定扩展程序</span></a></h3><p>默认情况下，当您在本地加载扩展程序时，它会显示在扩展程序菜单 (益智) 中。将扩展程序固定到工具栏，以便在开发过程中快速访问扩展程序。</p><p><img src="'+e+'" alt=""></p><p>点击扩展程序的操作图标（工具栏图标）；会看到一个弹出式窗口。</p><p><img src="'+i+`" alt=""></p><h3 id="_1-4-4-重新加载扩展程序" tabindex="-1"><a class="header-anchor" href="#_1-4-4-重新加载扩展程序"><span>1.4.4 重新加载扩展程序</span></a></h3><p>返回代码，然后在清单中将扩展程序的名称更改为“Hello Extensions of the world!”。</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;manifest_version&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Hello Extensions of the world!&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  ...</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保存文件后，您还必须刷新扩展程序，才能在浏览器中看到此更改。前往“附加信息”页面，然后点击开启/关闭切换开关旁边的刷新图标：</p><p><img src="`+o+`" alt=""></p><p><strong>何时重新加载扩展程序</strong></p><p>下表显示了哪些组件需要重新加载才能看到更改：</p><table><thead><tr><th>扩展程序组件</th><th>需要重新加载扩展程序</th></tr></thead><tbody><tr><td>清单</td><td>是</td></tr><tr><td>Service Worker</td><td>是</td></tr><tr><td>内容脚本</td><td>是（包括托管网页）</td></tr><tr><td>弹出式窗口</td><td>否</td></tr><tr><td>“选项”页面</td><td>否</td></tr><tr><td>其他扩展程序 HTML 网页</td><td>否</td></tr></tbody></table><h3 id="_1-4-5-查找控制台日志和错误" tabindex="-1"><a class="header-anchor" href="#_1-4-5-查找控制台日志和错误"><span>1.4.5 查找控制台日志和错误</span></a></h3><ol><li><p>控制台日志</p><p>在开发期间，您可以通过访问浏览器控制台日志来调试代码。在本例中，我们将找到弹出式窗口的日志。</p><ul><li><p>首先，将脚本标记添加到 hello.html。</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello Extensions<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>popup.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>创建一个 popup.js 文件，并添加以下代码。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is a popup!&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>如需在控制台中查看系统记录的这条消息，请执行以下操作：</p><ol><li>打开弹出式窗口。</li><li>右键点击弹出式窗口。</li><li>选择检查。</li></ol><p><img src="`+c+'" alt=""></p></li><li><p>在 DevTools 中，前往控制台面板</p><p><img src="'+r+`" alt=""></p></li></ul></li><li><p>错误日志</p><ol><li><p>现在，我们来破坏一下扩展程序。为此，我们可以移除 popup.js 中的闭引号：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>&quot;This is a popup<span class="token operator">!</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>前往“扩展程序”页面，然后打开弹出式窗口。系统随即会显示一个错误按钮。</p><p><img src="`+u+'" alt=""></p></li><li><p>点击错误按钮，详细了解相应错误：</p><p><img src="'+d+'" alt=""></p></li></ol></li></ol>',32)]))}const v=n(h,[["render",m]]),b=JSON.parse('{"path":"/other/plugin/chrome/01.html","title":"一、初识chrome插件","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1758492113000,"contributors":[{"name":"zhao-farmer","username":"zhao-farmer","email":"857899180@qq.com","commits":1,"url":"https://github.com/zhao-farmer"}],"changelog":[{"hash":"99c22db75003feb5447a5e9b7cef050f5faec996","time":1758492113000,"email":"857899180@qq.com","author":"zhao-farmer","message":"插件开发"}]},"filePathRelative":"other/plugin/chrome/01.md"}');export{v as comp,b as data};
