import{aq as n,ar as a,as as e,at as t}from"./app-Cok9BT0p.js";const p="/note-front/application/electron/base/032.png",o="/note-front/application/electron/base/033.gif",l={};function i(r,s){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="六、打包项目" tabindex="-1"><a class="header-anchor" href="#六、打包项目"><span>六、打包项目</span></a></h1><h2 id="_6-1-使用-electron-forge-打包项目" tabindex="-1"><a class="header-anchor" href="#_6-1-使用-electron-forge-打包项目"><span>6.1 使用 Electron Forge 打包项目</span></a></h2><ol><li>初始化</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li><p>配置electron下载路径</p><ul><li><p>目录下新建 <code>.npmrc</code> 文件</p></li><li><p>填充以下信息</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token constant">ELECTRON_MIRROR</span><span class="token operator">=</span><span class="token string">&quot;https://npmmirror.com/mirrors/electron/&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p>下载 <code>electron</code> 插件</p></li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> electron --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="4"><li>导入项目到 Forge</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> --save-dev @electron-forge/cli</span>
<span class="line">npx electron-forge <span class="token function">import</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>转换脚本完成后，Forge 会将一些脚本添加到您的 package.json 文件中。</p><p>package.json</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;06-project&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;main.js&quot;</span><span class="token punctuation">,</span></span>
<span class="line highlighted">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line highlighted">    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge start&quot;</span><span class="token punctuation">,</span></span>
<span class="line highlighted">    <span class="token property">&quot;package&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge package&quot;</span><span class="token punctuation">,</span></span>
<span class="line highlighted">    <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge make&quot;</span></span>
<span class="line highlighted">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/maker-deb&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/maker-rpm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/maker-squirrel&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/maker-zip&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/plugin-auto-unpack-natives&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron-forge/plugin-fuses&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.1&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;@electron/fuses&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.8.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;electron&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^37.2.1&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;electron-squirrel-startup&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.1&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果时开发阶段 直接将脚本命令复制到 package.json 因为重新打包因为app.asar很难重新打包</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code><span class="line"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge start&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;package&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge package&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;make&quot;</span><span class="token operator">:</span> <span class="token string">&quot;electron-forge make&quot;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>复制项目文件到此目录</li></ol><p><img src="`+p+`" alt=""></p><ol start="6"><li>开始打包</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">npm</span> run package</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="7"><li>运行结果</li></ol><p><img src="`+o+'" alt=""></p>',19)]))}const u=n(l,[["render",i]]),d=JSON.parse('{"path":"/application/electron/base/06.html","title":"六、打包项目","lang":"zh-CN","frontmatter":{},"git":{"updatedTime":1752490925000,"contributors":[{"name":"zhao-farmer","username":"zhao-farmer","email":"857899180@qq.com","commits":1,"url":"https://github.com/zhao-farmer"}],"changelog":[{"hash":"08d014805d6447d2221b34fe03fdc2ca18411d66","time":1752490925000,"email":"857899180@qq.com","author":"zhao-farmer","message":"2025年7月更新"}]},"filePathRelative":"application/electron/base/06.md"}');export{u as comp,d as data};
