<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>图案笔刷 PatternBrush</title>
</head>
<body>
    <canvas id="c" width="300" height="400" style="border: 1px solid #ccc"></canvas>

    
    <script type="module">
        // 引入文件
        import * as fabric from "../index.min.mjs";

        // 初始化
        const canvas = new fabric.Canvas("c", {
            isDrawingMode: true,
        });

        let img = new Image();
        img.src = "./assest/001.jpg";

        img.onload = function () {
            // 将图片设置到canvas上
            let canvas2 = document.createElement("canvas");
            canvas2.height = canvas.height;
            canvas2.width = canvas.width;
            var ctx2 = canvas2.getContext('2d');
            ctx2.drawImage(img,0,0,canvas2.width,canvas2.height);

            // 图案画笔
            let texturePatternBrush = new fabric.PatternBrush(canvas);
            texturePatternBrush.source = canvas2;
            texturePatternBrush.width = 50;
            canvas.freeDrawingBrush = texturePatternBrush;
        };
    </script>
</body>
</html>
