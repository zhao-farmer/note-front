# 一、认识angular



## 1.1 使用angular

1. 安装 `Angular CLI`

    ```sh
    # 安装 v16
    npm install -g @angular/cli@16
    ```
2. 创建项目

    - 创建命令

        ```
        npx @angular/cli@16 new ng-project
        ```
    - 选择组件(使用路由,css)

        ![](/framework/angular/base16/001.png)

3. 启动服务

    - 修改启动端口 package.json

        ```js
        "start": "ng serve --port 3308",
        ```
    - 控制台执行命令
    
        ```sh
        npm run start
        ```

## 1.2 项目关系

1. 项目目录结构

    ```md
    my-angular-app/
    ├── .angular/                  # Angular CLI 缓存目录
    ├── node_modules/              # 所有第三方依赖
    ├── src/                       # 应用源代码
    │   ├── app/                   # 应用主模块和组件
    │   │   ├── components/        # 共享组件
    │   │   ├── pages/             # 页面级组件
    │   │   ├── services/          # 服务
    │   │   ├── models/            # 数据模型
    │   │   ├── guards/            # 路由守卫
    │   │   ├── interceptors/      # HTTP拦截器
    │   │   ├── app.component.ts   # 根组件
    │   │   ├── app.module.ts      # 根模块 (传统方式)
    │   │   └── app.routes.ts      # 主路由配置
    │   ├── assets/                # 静态资源(图片、字体等)
    │   ├── environments/          # 环境配置
    │   │   ├── environment.ts     # 开发环境
    │   │   └── environment.prod.ts # 生产环境
    │   ├── styles/                # 全局样式(可选)
    │   ├── index.html             # 主HTML文件
    │   ├── main.ts                # 应用入口点
    │   └── ...                    # 其他配置文件
    ├── .browserslistrc            # 浏览器兼容性配置
    ├── angular.json               # Angular CLI 配置
    ├── package.json               # 项目依赖和脚本
    ├── tsconfig.json              # TypeScript 配置
    ├── tsconfig.app.json          # 应用特定的TS配置
    └── ...                        # 其他配置文件
    ```

2. 入口文件调用模块

    ![](/framework/angular/base16/002.png)

3. 模块的注册

    1. NgModule 的基本结构

        ```ts
        import { NgModule } from '@angular/core';
        import { CommonModule } from '@angular/common';
        import { SharedComponent } from './shared.component';

        @NgModule({
            declarations: [SharedComponent], // 声明组件/指令/管道
            imports: [CommonModule],        // 导入其他模块
            exports: [SharedComponent],     // 暴露给其他模块
            providers: [AuthService],       // 注册服务
            bootstrap: [AppComponent]       // 仅根模块需要
        })
        export class SharedModule {}
        ```

    2. 注册使用

        ![](/framework/angular/base16/003.png)

4. 修改 app.html 进行验证

    ```html
    <h1> hello angular </h1>

    <router-outlet></router-outlet>
    ```
## 1.3 组件的制作与使用

1. 创建 home 组件

    - 运行命令

        ```sh
        ng generate component home
        ```
    - 主模块中自动注册了 home 组件 app.module.ts

        ```ts{5,11}
        import { NgModule } from '@angular/core';
        import { BrowserModule } from '@angular/platform-browser';

        import { AppRoutingModule } from './app-routing.module';
        import { AppComponent } from './app.component';
        import { HomeComponent } from './home/home.component';

        @NgModule({
            declarations: [
                AppComponent,
                HomeComponent
            ],
            imports: [
                BrowserModule,
                AppRoutingModule
            ],
            providers: [],
            bootstrap: [AppComponent]
        })
        export class AppModule { }

        ```
2. 修改 home 组件

    - home/home.component.html

        ```html
        <p>home模块</p>
        ```
    - home/home.component.css

        ```css
        p {
            color:red;
        }
        ```
3. 路由文件设置 app-routing.module.ts

    ```ts{5,11}
    import { NgModule } from '@angular/core';
    import { RouterModule, Routes } from '@angular/router';
    import { HomeComponent } from './home/home.component';

    const routes: Routes = [
        {
            path: 'home',               // 路径
            component: HomeComponent,   // 模块
            title: 'Home Page'          // 动态标题
        },
    ];

    @NgModule({
        imports: [RouterModule.forRoot(routes)],
        exports: [RouterModule]
    })
    export class AppRoutingModule { }
    ```

4. 运行结果

    ![](/framework/angular/base16/005.png)

