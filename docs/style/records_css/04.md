# 裁剪路径 clip-path

## 1 解释
clip-path 属性使用裁剪方式创建元素的可显示区域。区域内的部分显示，区域外的隐藏。浏览器会裁剪掉裁剪区域以外的内容，包括: 背景，内容，边框，阴影等，另外也不会捕获裁剪区域之外的hover click等事件。

## 2 语法
- basic-shape： 基本图形，包括 `inset()`、`circle()`、`ellipse()`、`polygon()`
- clip-source： 通过 `url()` 方法引用一段 SVG 的 `<clipPath>` 来作为剪裁路径
- geometry-box：单独使用时，将指定框的边缘作为剪裁路径，或者配合 basic-shape 使用，用于定义剪裁的参考框（Reference Box）
- none: 不创建剪切路径。



## 3 basic-shape
一种形状，其大小和位置由 `<geometry-box>` 的值定义。如果没有指定 `<geometry-box>`，则将使用 `border-box` 用为参考框。取值可为以下值中的任意一个：

### 3.1 circle()

circle()定义一个圆形（使用一个半径和一个圆心位置）。

**参数类型**：

```
circle( [<shape-radius>]? [at <position>]? )
```

其中 shape-radius 为圆形的半径，position 为圆心的位置，width、height分别为被剪裁元素的宽高。


**代码**
```html
<!DOCTYPE html>
<html lang="en">
<head>
     <title>圆形</title>
     <style>
        body{
            display: flex;
        }
        .outer{
            border: 1px solid;
        }
        .inside_01{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: circle(50% at 50% 50%)
        }
        .inside_02{
            width:100px;
            height: 100px;
            background:green;
            clip-path: circle(50% at 30px 50px)
        }
        .inside_03{
            width:200px;
            height: 200px;
            background:skyblue;
            clip-path: circle(50px at 150px 50px)
        }
        .inside_04{
            width:200px;
            height: 100px;
            background:pink;
            clip-path: circle(50% at 50% 50%)
        }
        .inside_05{
            width:100px;
            height: 200px;
            background:red;
            clip-path: circle(50% at 50% 50%)
        }
     </style>
</head>
<body>
    <div class="outer">
        <div class="inside_01"></div>
    </div>
    <div class="outer">
        <div class="inside_02"></div>
    </div>
    <div class="outer">
        <div class="inside_03"></div>
    </div>
    <div class="outer">
        <div class="inside_04"></div>
    </div>
    <div class="outer">
        <div class="inside_05"></div>
    </div>
</body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/001.png)


### 3.2 ellipse()

ellipse()定义一个椭圆（使用两个半径和一个圆心位置）。

**参数类型**：

```
ellipse( [<shape-radius>{2}]? [at <position>]? )
```

其中 shape-radius 为椭圆x、y轴的半径，position 为椭圆中心的位置。

**代码**
```html
<!DOCTYPE html>
<html lang="en">
<head>
     <title>椭圆</title>
     <style>
        body{
            display: flex;
        }
        .outer{
            border: 1px solid;
        }
        .inside_01{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: ellipse(25% 40% at 50% 50%);
        }
        .inside_02{
            width:100px;
            height: 100px;
            background:green;
            clip-path: ellipse(30px 40px at 25px 30px)
        }
        .inside_03{
            width:200px;
            height: 200px;
            background:skyblue;
            clip-path: ellipse(50px 30px at 140px 50px)

        }
     </style>
</head>
<body>
    <div class="outer">
        <div class="inside_01"></div>
    </div>
    <div class="outer">
        <div class="inside_02"></div>
    </div>
    <div class="outer">
        <div class="inside_03"></div>
    </div>
</body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/002.png)



### 3.3 inset()
inset() 定义一个 inset 矩形。

参数类型：
```
inset( <shape-arg>{1,4} [round <border-radius>]? )
```

其中 shape-arg 分别为矩形的上右下左顶点到被剪裁元素边缘的距离（和margin、padding参数类似），border-radius 为可选参数，用于定义 border 的圆角。

**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
     <title>矩形</title>
     <style>
        body{
            display: flex;
        }
        .outer{
            border: 1px solid;
        }
        .inside_01{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: inset(5% 20% 15% 10%);
        }
        .inside_02{
            width:100px;
            height: 100px;
            background:green;
            clip-path: inset(-10px 20px 15px 10px);
           
        }
        .inside_03{
            width:200px;
            height: 200px;
            background:skyblue;
            clip-path: inset(100px 30px 15px 100px);
        }
        .inside_04{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: inset(5% 20% 15% 10% round 15px);
        }
     </style>
</head>
<body>
    <div class="outer">
        <div class="inside_01"></div>
    </div>
    <div class="outer">
        <div class="inside_02"></div>
    </div>
    <div class="outer">
        <div class="inside_03"></div>
    </div>
    <div class="outer">
        <div class="inside_04"></div>
    </div>
</body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/003.png)


### 3.4 polygon()
polygon()定义一个多边形（使用一个 SVG 填充规则和一组顶点）。

参数类型：
```
polygon( [<fill-rule>,]? [<shape-arg> <shape-arg>]# )
```
其中 fill-rule 为填充规则，即通过一系列点去定义多边形的边界。

#### 3.4.1 多边形裁剪

**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
     <title>多边形裁剪</title>
     <style>
        .box{
            display: flex;
            flex-wrap: wrap;
            width: 400px;
            gap: 10px;
        }
        /* 三角形 */
        .outer_01{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }
        /* 菱形 */
        .outer_02{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }
        /* 梯形 */
        .outer_03{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
        }
        /* 平行四边形 */
        .outer_04{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
        }
        /* 五边形 */
        .outer_05{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
        }
        /* 六边形 */
        .outer_06{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }
        /* 七边形 */
        .outer_07{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%);
        }
        /* 八边形 */
        .outer_08{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%); 
        }
     </style>
</head>
<body>
    <div class="box">
        <!-- 三角形 -->
        <div class="outer_01"></div>
        <!-- 菱形 -->
        <div class="outer_02"></div>
        <!-- 梯形 -->
        <div class="outer_03"></div>
         <!-- 平行四边形 -->
        <div class="outer_04"></div>
        <!-- 五边形 -->
        <div class="outer_05"></div>
        <!-- 六边形 -->
        <div class="outer_06"></div>
        <!-- 七边形 -->
        <div class="outer_07"></div>
        <!-- 八边形 -->
        <div class="outer_08"></div>
    </div>
</body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/004.png)



#### 3.4.2 特殊图形裁剪

**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
     <title>特殊图形裁剪</title>
     <style>
        .box{
            display: flex;
            flex-wrap: wrap;
            width: 400px;
            gap: 10px;
        }
        /* 斜角 */
        .outer_01{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
        }
        /* 槽口 */
        .outer_02{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(0% 15%, 15% 15%, 15% 0%, 85% 0%, 85% 15%, 100% 15%, 100% 85%, 85% 85%, 85% 100%, 15% 100%, 15% 85%, 0% 85%);
        }
        /* 左箭头 */
        .outer_03{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(40% 0%, 40% 20%, 100% 20%, 100% 80%, 40% 80%, 40% 100%, 0% 50%);
        }
        /* 右箭头 */
        .outer_04{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%);
        }
        /* 星星 */
        .outer_05{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
        }
        /* 十字架 */
        .outer_06{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(10% 25%, 35% 25%, 35% 0%, 65% 0%, 65% 25%, 90% 25%, 90% 50%, 65% 50%, 65% 100%, 35% 100%, 35% 50%, 10% 50%);
        }
        /* 叉号 */
        .outer_07{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(20% 0%, 0% 20%, 30% 50%, 0% 80%, 20% 100%, 50% 70%, 80% 100%, 100% 80%, 70% 50%, 100% 20%, 80% 0%, 50% 30%);
        }
        /* 八边形 */
        .outer_08{
            width:100px;
            height: 100px;
            background:orange;
            clip-path: polygon(0% 0%, 100% 0%, 100% 75%, 75% 75%, 75% 100%, 50% 75%, 0% 75%);
        }
     </style>
</head>
<body>
    <div class="box">
        <!-- 斜角 -->
        <div class="outer_01"></div>
        <!-- 槽口 -->
        <div class="outer_02"></div>
        <!-- 左箭头 -->
        <div class="outer_03"></div>
         <!-- 右箭头 -->
        <div class="outer_04"></div>
        <!-- 星星 -->
        <div class="outer_05"></div>
        <!-- 十字架 -->
        <div class="outer_06"></div>
        <!-- 叉号 -->
        <div class="outer_07"></div>
        <!-- 对话框 -->
        <div class="outer_08"></div>
    </div>
</body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/005.png)

### 3.5 path()

定义一个任意形状（使用一个可选的 SVG 填充规则和一个 SVG 路径定义）。

**代码**

```html
<html>
  <head>
    <style>
      .path {
        clip-path: path(
          "M  20  240 L  20  80 L 160  80 L 160  20 L 280 100 L 160 180 L 160 120 L  60 120 L  60 240 Z"
        );
      }
    </style>
  </head>
  <body>
    <div>
      <img class="path" src="../images/00.jpg" />
    </div>
  </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/006.png)



## 4 clip-source()

即通过引用一个svg的clipPath 元素来作为剪裁路径。

**代码**

```html
<html>
  <head>
    <style>
      .path {
        clip-path: url("#svgCircle");
      }
    </style>
  </head>
  <body>
    <div>
      <svg>
        <defs>
          <clipPath id="svgCircle">
            <circle cx="100" cy="100" r="50" />
          </clipPath>
        </defs>
      </svg>
      <img class="path" src="../images/00.jpg" />
    </div>
  </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/007.png)

## 5 geometry-box

如果同 `<basic-shape`> 一起声明，它将为基本形状提供相应的参考框盒。通过自定义，它将利用确定的盒子边缘包括任何形状边角（比如说，被border-radius定义的剪切路径）。几何框盒可以有以下的值中的一个：
- margin-box使用margin box作为引用框。
- border-box使用 border box作为引用框。
- padding-box使用 padding box作为引用框。
- content-box使用 content box作为引用框。
- fill-box利用对象边界框（object bounding box）作为引用框。
- stroke-box使用笔触边界框（stroke bounding box）作为引用框。
- view-box使用最近的 SVG 视口（viewport）作为引用框。如果 viewBox 属性被指定来为元素创建 SVG 视口，引用框将会被定位在坐标系的原点，引用框位于由 viewBox 属性建立的坐标系的原点，引用框的尺寸用来设置 viewBox 属性的宽高值。


**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        div{
            height: 500px;
            width: 600px;
            background-color: aqua;
            padding: 20px;
            clip-path: padding-box circle(150px at 0 200px);
        }
    </style>
</head>
<body>
    <div></div>
</body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/008.png)


## 6 实际应用


### 6.1 伪元素实现内部通透


**代码**

```html
<html>
  <head>
    <style>
      .box {
        position: relative;
        width: 400px;
        height: 300px;
        background-color: rgb(21, 230, 150);
      }
      .mask {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background-color: orange;
        position: absolute;
      }
      .mask:after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        clip-path: circle(100px at center);
        background: rgb(21, 230, 150);
      }
    </style>
  </head>
  <body>
    <div class="box">
      <div class="mask"></div>
    </div>
  </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/009.png)

### 6.2 一个div盒子切成两块

**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        .outer{
            height: 400px;
            width: 400px;
            clip-path: polygon(0 0,0 100%,25% 100%,25% 100%,25% 0,25% 0,75% 0,75% 0,75% 100%,75% 100%,100% 100%,100% 0);
            background-color: aqua;
        }
    </style>
</head>
<body>
    <div class="outer">
    </div>
</body>
</html>
```

**运行结果** 
![](/style/css_records/clip-path/010.png)


### 6.3 菱形查看

**代码**

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Document</title>
        <style>
            .box img {
                width: 500px;
                height: 312px;
                transition: all 0.5s ease;
                -webkit-clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            }
            .box:hover img {
                opacity: 0.5;
                -webkit-clip-path: polygon(50% 0, 99% 50%, 50% 99%, 0 50%);
                clip-path: polygon(50% 0, 99% 50%, 50% 99%, 0 50%);
            }
        </style>
    </head>
    <body>
        <div class="box">
            <img src="../images/00.jpg" alt="" />
        </div>
    </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/011.gif)

### 6.4 实现图片从上往下加载

**代码**

```html
<!DOCTYPE html>
<html lang="en">
  <style>
    body {
      background-color: black;
    }
    .img {
      width: 600px;
    }
    img {
      overflow: hidden;
      -webkit-clip-path: polygon(0 0, 0 0, 100% 0, 100% 0);
      clip-path: polygon(0 0, 0 0, 100% 0, 100% 0);
      opacity: 0;
      transition: clip-path 1.1s ease-in, opacity 1.1s ease 167ms, -webkit-clip-path 1.1s cubic-bezier(0.19, 1, 0.22, 1);
    }
    .img:hover img {
      opacity: 1;
      -webkit-clip-path: polygon(0 0, 0 100%, 100% 100%, 100% 0);
      clip-path: polygon(0 0, 0 100%, 100% 100%, 100% 0);
    }
  </style>
  <body>
    <div class="img">
      <img src="../images/00.jpg" />
    </div>
  </body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/012.gif)

### 6.5 多边形图形动画


**代码**

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>clip-path动画-多边形</title>
        <style>
            .polygon-animate {
                position: absolute;
                width: 200px;
                height: 200px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background-color: crimson;
                animation: polygon-ani 5s linear infinite;
            }
            @keyframes polygon-ani {
                0% {
                    clip-path: polygon(50% 0%, 0% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%, 100% 100%);
                }
                20% {
                    background-color: darkorange;
                    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%, 0% 50%, 0% 50%, 0% 50%, 0% 50%, 0% 50%);
                }
                40% {
                    clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%, 0% 38%, 0% 38%, 0% 38%, 0% 38%);
                }
                60% {
                    background-color: lemonchiffon;
                    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%, 0% 25%, 0% 25%, 0% 25%);
                }
                80%,
                100% {
                    clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%, 10% 20%, 10% 20%);
                }
            }
        </style>
    </head>
    <body>
        <div class="polygon-animate"></div>
    </body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/013.gif)


### 6.6 三角合成正方形动画

**代码**

```html
<!DOCTYPE doctype html>
<html lang="en">
    <head>
        <title>clip-path</title>
        <style type="text/css">
            .triangle2rect {
                position: absolute;
                width: 100px;
                height: 100px;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                animation: aniContainer 2s infinite alternate;
            }
            .triangle2rect div {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }
            .a {
                background: #cccccc;
                clip-path: polygon(0% 0%, 0% 100%, 50% 50%);
                animation: a 2s infinite alternate;
            }
            .b {
                background: #9999cc;
                clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
                animation: b 2s infinite alternate;
            }
            .c {
                background: #99cccc;
                clip-path: polygon(100% 0%, 100% 100%, 50% 50%);
                animation: c 2s infinite alternate;
            }
            .d {
                background: #99cccc;
                clip-path: polygon(100% 100%, 0% 100%, 50% 50%);
                animation: d 2s infinite alternate;
            }
            @keyframes a {
                0%,
                10% {
                    background: #99cccc;
                    clip-path: polygon(0% 0%, 0% 100%, 50% 50%);
                }
                90%,
                100% {
                    background: #000;
                    clip-path: polygon(0% 100%, 25% 100%, 12.5% 0%);
                }
            }
            @keyframes b {
                0%,
                10% {
                    background: #99cccc;
                    clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
                }
                90%,
                100% {
                    background: #000;
                    clip-path: polygon(25% 0%, 50% 0%, 37.5% 100%);
                }
            }
            @keyframes c {
                0%,
                10% {
                    background: #99cccc;
                    clip-path: polygon(100% 0%, 100% 100%, 50% 50%);
                }
                90%,
                100% {
                    background: #000;
                    clip-path: polygon(62.5% 0%, 75% 100%, 50% 100%);
                }
            }
            @keyframes d {
                0%,
                10% {
                    background: #99cccc;
                    clip-path: polygon(100% 100%, 0% 100%, 50% 50%);
                }
                90%,
                100% {
                    background: #000;
                    clip-path: polygon(100% 0%, 87.5% 100%, 75% 0%);
                }
            }
            @keyframes aniContainer {
                0%,
                10% {
                    width: 100px;
                    height: 100px;
                }
                90%,
                100% {
                    width: 250px;
                    height: 60px;
                }
            }
        </style>
    </head>
    <body>
        <div class="triangle2rect">
            <div class="a"></div>
            <div class="b"></div>
            <div class="c"></div>
            <div class="d"></div>
        </div>
    </body>
</html>

```

**运行结果** 

![](/style/css_records/clip-path/014.gif)

### 6.7 结合svg构建图片镂空文字


**代码**

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
      <title>Document</title>
    <style>
        .img {
            clip-path: url(#svgPath);
        }
    </style>
</head>
<body>
    <svg height="0" width="0"> 
        <defs> 
            <clipPath id="svgPath">
                <text x="20" y="200" textLength="300px" font-size="90px" font-weight="700" font-style="none"> 我 是 谁 </text>
            </clipPath> 
        </defs> 
    </svg>
    <img class='img' src="../images/00.jpg" />
</body>
</html>
```

![](/style/css_records/clip-path/015.png)

### 6.8 gif绘制成跳动的字母

**代码**


```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>gif绘制成跳动的字母</title>
        <style>
            body {
                margin: 0;
                padding: 0;
                background: #000;
                width: 100vw;
                height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .container {
                --duration: 700ms;
                --ease: cubic-bezier(0.16, 1, 0.3, 1);
                height: 80%;
                width: 80%;
              
                display: grid;
                grid-template-columns:1fr 1fr 1fr 1fr;
                gap: 20px;
            }
            .letter {
                width: 300px;
                height: 340px;
                padding: 50px 0 0 50px;
                transition: clip-path var(--duration) var(--ease);
            }


            .s {
                clip-path: polygon(0% 0%, 51% 0, 100% 0, 100% 100%, 50% 100%, 0 100%);
            }
            .container:hover .s {
                clip-path: polygon(100% 0, 60% 40%, 100% 70%, 0 100%, 40% 60%, 0 30%);
            }
            .u {
                clip-path: polygon(0 0, 0 100%, 100% 100%, 100% 0, 84% 0, 61% 0, 41% 0, 19% 0);
            }
            .container:hover .u {
                clip-path: polygon(0 6%, 5% 100%, 96% 88%, 98% 3%, 71% 5%, 71% 62%, 31% 68%, 25% 0);
            }
            .p {
                clip-path: polygon(0% 0%, 0% 100%, 25% 100%, 49% 56%, 49% 46%, 49% 47%, 19% 56%, 25% 100%, 100% 100%, 100% 0%);
            }
            .container:hover .p {
                clip-path: polygon(5% 3%, 2% 100%, 33% 92%, 24% 18%, 71% 25%, 57% 46%, 25% 41%, 19% 66%, 90% 55%, 100% 0);
            }
            .a {
                clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
            }
            .container:hover .a {
                clip-path: polygon(46% 2%, 57% 0, 100% 83%, 0% 100%);
            }
            
            .d {
                clip-path: polygon(0% 0%, 0% 100%, 25% 100%, 60% 60%, 60% 60%, 40% 40%, 40% 40%, 25% 100%, 100% 100%, 100% 0%);
            }
            .container:hover .d {
                clip-path: polygon(6% 2%, 0 93%, 31% 100%, 27% 30%, 54% 34%, 61% 59%, 21% 72%, 31% 100%, 100% 74%, 76% 11%);
            }
           
            .letter::before {
                content: "";
                position: absolute;
                width: 300px;
                height: 340px;
                user-select: none;
                background-image: url(../images/005.gif);
                background-position: 50% 0%;
                background-size: cover;
                mix-blend-mode: soft-light;
            }
            .container:hover .letter {
                animation: calc(var(--duration) * 2) calc(var(--i) * (var(--duration) / -3)) steps(3, end) alternate infinite;
                animation-name: colors,letter;
            }

            .container:hover .letter::before {
                animation: dance calc(var(--duration) * 2) calc(var(--i) * (var(--duration) / -3)) steps(3, end) infinite;
            }

            @keyframes colors {
                0%   { background-color: #a6e630 }
                50%  { background-color: #f5e82f }
                100% { background-color: #4cb8f5 } 
            }
            @keyframes dance {
                100% {
                    transform: scale(1.25);
                }
            }
            @keyframes letter {
                25% {
                    transform: translate(-5%, 5%) scale(1.05) rotate(-5deg);
                }
                50% {
                    transform: translate(5%, -2%) rotate(2deg);
                }
                75% {
                    transform: translate(10%, 0%) scale(1.02) rotate(8deg);
                }
                100% {
                    transform: translate(0%, -5%) rotate(4deg);
                }
            }
        </style>
    </head>
    <body></body>
</html>
<body>
    <div class="container">
        <div class="letter s" style="--i:1"></div>
        <div class="letter u" style="--i:1.5"></div>
        <div class="letter p" style="--i:2"></div>
        <div class="letter a" style="--i:2.5"></div>
        <div class="letter d" style="--i:3"></div>
        <div class="letter u" style="--i:3.5"></div>
        <div class="letter p" style="--i:4"></div>
        <div class="letter a" style="--i:4.5"></div>
    </div>
</body>
```

**运行结果** 

![](/style/css_records/clip-path/016.gif)



### 6.9 碎片轮播图切换

**代码**
```html

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Document</title>
        <style>
            .main {
                border-radius: 20px;
                width: 600px;
                height: 400px;
                overflow: hidden;
                position: relative;
            }
            .imgs {
                height: 100%;
                width: 100%;
                position: absolute;
            }
            .photo {
                height: 100%;
                width: 100%;
                position: absolute;
            }
            .photo .photo-clip {
                position: absolute;
                transition:1s 0.1s linear all;
            }
            .photo .photo-clip:nth-of-type(1) {
                clip-path: polygon(0 0, 25% 0, 0 40%);
                transform: translate(25%, -84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(2) {
                clip-path: polygon(25% 0, 65% 0, 8% 100%, 0 100%, 0 40%);
                transform: translate(-50%, 84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(3) {
                clip-path: polygon(65% 0, 85% 0, 28% 100%, 8% 100%);
                transform: translate(50%, -84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(4) {
                clip-path: polygon(85% 0, 100% 0, 100% 50%, 70% 100%, 28% 100%);
                transform: translate(-50%, 84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(5) {
                clip-path: polygon(100% 50%, 100% 100%, 70% 100%);
                transform: translate(80%, -84%) scale(0);
            }
            /* 上个步骤的，与原本的方向相反 */
            .photo.prev .photo-clip:nth-of-type(1){
                transform: translate(-75%, 84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(2){
                transform: translate(50%, -84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(3){
                transform: translate(-50%, 84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(4){
                transform: translate(50%, -84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(5){
                transform: translate(-30%, 84%) scale(0);
            }

            /* 当前图像 全部都归于正常 */
            .photo.current .photo-clip:nth-of-type(1),
            .photo.current .photo-clip:nth-of-type(2),
            .photo.current .photo-clip:nth-of-type(3),
            .photo.current .photo-clip:nth-of-type(4),
            .photo.current .photo-clip:nth-of-type(5){
                transform: translate(0, 0) scale(1);
            }

            .arrow {
                width: 100%;
                top: 140px;
                position: absolute;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .arrow div {
                font-size: 90px;
                color: #fff;
                cursor: pointer;
                opacity: 0.8;
            }
            .arrow div:hover {
                opacity: 1;
            }
            .arrow #prev {
                transform: skewX(10deg);
            }
            .arrow #next {
                transform: skewX(-10deg);
            }

            .dot {
                width: 100%;
                top: 90%;
                position: absolute;
            }
            .number {
                position: absolute;
                right: 5%;
                display: flex;
                gap: 5px;
            }
            .number div {
                height: 20px;
                width: 20px;
                font-size: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                background: antiquewhite;
                clip-path: circle(50% at 50% 50%);
                cursor: pointer;
            }

            .number div:hover {
                transition: all 1s ease;
                clip-path: inset(0 round 4px);
            }
            .number div.active {
                background: #fff;
            }
        </style>
    </head>
    <body>
        <div class="main">
            <div class="img-list">
                <div class="photo current">
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                </div>
                <div class="photo prev">
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                </div>
            </div>

            <div class="arrow">
                <!-- 左箭头-->
                <div id="prev">&lt;</div>
                <!-- 右箭头-->
                <div id="next">&gt;</div>
            </div>

            <!-- 图片下方的数字-->
            <div class="dot">
                <div class="number">
                    <div class="active">1</div>
                    <div>2</div>
                    <div>3</div>
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                </div>
            </div>
        </div>

        <script>
            //所有的点
            const numbers = Array.from(document.querySelectorAll(".number div"));
            //图片的数组
            const imgArr = Array.from(document.querySelectorAll(".img-list .photo"));
            /* 
                自动切换图片
            */
            const toggleChange = (function () {
                let timer;
                return function () {
                    if (timer == null) {
                        timer = setTimeout(function auto() {
                            changeImg("next");
                            timer = setTimeout(auto, 2000);
                        }, 2000);
                    } else {
                        clearTimeout(timer);
                        timer = null;
                    }
                };
            })();
            toggleChange();
            const outer = document.querySelector(".main");
            outer.onmouseenter = () => {
                console.log("进入");
                toggleChange();
            };
            outer.onmouseleave = () => {
                console.log("离开");
                toggleChange();
            };
            /* 
                点击按钮 切换图片
            */
            const prevBtn = document.getElementById("prev");
            const nextBtn = document.getElementById("next");
             prevBtn.onclick = () => {
                changeImg("prev");
            };
            nextBtn.onclick = () => {
                changeImg("next");
            };
            /* 
                获取6个小点
            */
            document.addEventListener("click", event => {
                const index = numbers.indexOf(event.target);
                if (index !== -1) {
                    changeImg(index);
                }
            });


             /* 
                changeImg 用来切换图片
                参数：
                    dir 切换图片的方向
                    next
                    prev
            
            */
            function changeImg(dir) {
                // 获取当前图片
                const current = document.querySelector(".img-list .current");
                //获取当前要显示图片的索引
                
                const index = imgArr.indexOf(current);
                let next;
                if (dir == "next") {
                    next = current.nextElementSibling || imgArr[0];
                } else if (dir == "prev") {
                    next = current.previousElementSibling || imgArr.at(-1);
                } else {
                    next = imgArr[dir];
                }
               
                // 移除上次标记
                const prev = document.querySelector(".prev");
                prev.classList.remove("prev");
                // 替换上次标记
                current.classList.replace("current", "prev");
                // 添加当前标记
                next.classList.add("current");

                //切换active
                const currentActive = document.querySelector(".active"); 
                let newIndex = imgArr.indexOf(next);
                currentActive.classList.remove("active");
                numbers[newIndex].classList.add("active");
            }

           
        </script>
    </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/017.gif)





### 6.10 碎裁剪头像

**代码**
```html

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Document</title>
        <style>
            .main {
                border-radius: 20px;
                width: 600px;
                height: 400px;
                overflow: hidden;
                position: relative;
            }
            .imgs {
                height: 100%;
                width: 100%;
                position: absolute;
            }
            .photo {
                height: 100%;
                width: 100%;
                position: absolute;
            }
            .photo .photo-clip {
                position: absolute;
                transition:1s 0.1s linear all;
            }
            .photo .photo-clip:nth-of-type(1) {
                clip-path: polygon(0 0, 25% 0, 0 40%);
                transform: translate(25%, -84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(2) {
                clip-path: polygon(25% 0, 65% 0, 8% 100%, 0 100%, 0 40%);
                transform: translate(-50%, 84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(3) {
                clip-path: polygon(65% 0, 85% 0, 28% 100%, 8% 100%);
                transform: translate(50%, -84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(4) {
                clip-path: polygon(85% 0, 100% 0, 100% 50%, 70% 100%, 28% 100%);
                transform: translate(-50%, 84%) scale(0);
            }
            .photo .photo-clip:nth-of-type(5) {
                clip-path: polygon(100% 50%, 100% 100%, 70% 100%);
                transform: translate(80%, -84%) scale(0);
            }
            /* 上个步骤的，与原本的方向相反 */
            .photo.prev .photo-clip:nth-of-type(1){
                transform: translate(-75%, 84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(2){
                transform: translate(50%, -84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(3){
                transform: translate(-50%, 84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(4){
                transform: translate(50%, -84%) scale(0);
            }
            .photo.prev .photo-clip:nth-of-type(5){
                transform: translate(-30%, 84%) scale(0);
            }

            /* 当前图像 全部都归于正常 */
            .photo.current .photo-clip:nth-of-type(1),
            .photo.current .photo-clip:nth-of-type(2),
            .photo.current .photo-clip:nth-of-type(3),
            .photo.current .photo-clip:nth-of-type(4),
            .photo.current .photo-clip:nth-of-type(5){
                transform: translate(0, 0) scale(1);
            }

            .arrow {
                width: 100%;
                top: 140px;
                position: absolute;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .arrow div {
                font-size: 90px;
                color: #fff;
                cursor: pointer;
                opacity: 0.8;
            }
            .arrow div:hover {
                opacity: 1;
            }
            .arrow #prev {
                transform: skewX(10deg);
            }
            .arrow #next {
                transform: skewX(-10deg);
            }

            .dot {
                width: 100%;
                top: 90%;
                position: absolute;
            }
            .number {
                position: absolute;
                right: 5%;
                display: flex;
                gap: 5px;
            }
            .number div {
                height: 20px;
                width: 20px;
                font-size: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                background: antiquewhite;
                clip-path: circle(50% at 50% 50%);
                cursor: pointer;
            }

            .number div:hover {
                transition: all 1s ease;
                clip-path: inset(0 round 4px);
            }
            .number div.active {
                background: #fff;
            }
        </style>
    </head>
    <body>
        <div class="main">
            <div class="img-list">
                <div class="photo current">
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                    <img class="photo-clip" src="../images/00.jpg" />
                </div>
                <div class="photo prev">
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                    <img class="photo-clip" src="../images/01.jpg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                    <img class="photo-clip" src="../images/02.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                    <img class="photo-clip" src="../images/03.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                    <img class="photo-clip" src="../images/04.jpeg" />
                </div>
                <div class="photo">
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                    <img class="photo-clip" src="../images/05.jpeg" />
                </div>
            </div>

            <div class="arrow">
                <!-- 左箭头-->
                <div id="prev">&lt;</div>
                <!-- 右箭头-->
                <div id="next">&gt;</div>
            </div>

            <!-- 图片下方的数字-->
            <div class="dot">
                <div class="number">
                    <div class="active">1</div>
                    <div>2</div>
                    <div>3</div>
                    <div>4</div>
                    <div>5</div>
                    <div>6</div>
                </div>
            </div>
        </div>

        <script>
            //所有的点
            const numbers = Array.from(document.querySelectorAll(".number div"));
            //图片的数组
            const imgArr = Array.from(document.querySelectorAll(".img-list .photo"));
            /* 
                自动切换图片
            */
            const toggleChange = (function () {
                let timer;
                return function () {
                    if (timer == null) {
                        timer = setTimeout(function auto() {
                            changeImg("next");
                            timer = setTimeout(auto, 2000);
                        }, 2000);
                    } else {
                        clearTimeout(timer);
                        timer = null;
                    }
                };
            })();
            toggleChange();
            const outer = document.querySelector(".main");
            outer.onmouseenter = () => {
                console.log("进入");
                toggleChange();
            };
            outer.onmouseleave = () => {
                console.log("离开");
                toggleChange();
            };
            /* 
                点击按钮 切换图片
            */
            const prevBtn = document.getElementById("prev");
            const nextBtn = document.getElementById("next");
             prevBtn.onclick = () => {
                changeImg("prev");
            };
            nextBtn.onclick = () => {
                changeImg("next");
            };
            /* 
                获取6个小点
            */
            document.addEventListener("click", event => {
                const index = numbers.indexOf(event.target);
                if (index !== -1) {
                    changeImg(index);
                }
            });


             /* 
                changeImg 用来切换图片
                参数：
                    dir 切换图片的方向
                    next
                    prev
            
            */
            function changeImg(dir) {
                // 获取当前图片
                const current = document.querySelector(".img-list .current");
                //获取当前要显示图片的索引
                
                const index = imgArr.indexOf(current);
                let next;
                if (dir == "next") {
                    next = current.nextElementSibling || imgArr[0];
                } else if (dir == "prev") {
                    next = current.previousElementSibling || imgArr.at(-1);
                } else {
                    next = imgArr[dir];
                }
               
                // 移除上次标记
                const prev = document.querySelector(".prev");
                prev.classList.remove("prev");
                // 替换上次标记
                current.classList.replace("current", "prev");
                // 添加当前标记
                next.classList.add("current");

                //切换active
                const currentActive = document.querySelector(".active"); 
                let newIndex = imgArr.indexOf(next);
                currentActive.classList.remove("active");
                numbers[newIndex].classList.add("active");
            }

           
        </script>
    </body>
</html>
```

**运行结果** 

![](/style/css_records/clip-path/018.gif)


